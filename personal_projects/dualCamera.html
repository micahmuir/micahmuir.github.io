<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Project Gallery — Camera Platform</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Site-wide CSS (applies the cardboard texture via <html> background, tokens, navbar, etc.) -->
  <link rel="stylesheet" href="../assets/css/style.css" />
  <!-- Open Sans (optional—kept for consistency) -->
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700&display=swap" rel="stylesheet" />
</head>

<body id="projects-detail">
  <!-- Navbar -->
  <nav class="navbar">
    <ul class="nav-links">
      <li><a href="../index.html">Home</a></li>
      <li><a href="../resume.html">Resume</a></li>
      <li><a href="../personal_projects.html">Projects</a></li>
      <li><a href="../about.html">About</a></li>
    </ul>
  </nav>

  <!-- highlight current nav link -->
  <script>
    (function(){
      const links = document.querySelectorAll('.nav-links a');
      const currentPath = window.location.pathname;
      links.forEach(link => {
        if (link.getAttribute('href') === currentPath) link.classList.add('active');
      });
    })();
  </script>

  <div class="page">
    <!-- Cardstock intro panel (title + paragraph on one paper sheet) -->
    <section class="paper-panel">
      <h1 class="page-title">Infrared Camera Platform</h1>
      <p>
        This is a spinoff project from my general purpose imaging platform
      </p>
    </section>

    <!-- Gallery -->
    <div class="gallery" id="gallery">
  

      <div class="gallery-item" data-type="video" data-src="https://www.youtube.com/embed/otG2o5SEMO0"
           data-caption="This is a particle system I'm simulating with a compute shader, and rendering with instancing. The force input to the system is provided by a live point cloud input from a generalized lidar scan,
           and used with a blob detector to track the UV positions of an arbitrary number of blobs. 2D lines are drawn when blobs are close enough, and interact as attractors and repellers to another point cloud layer. Additional 
           effects were created with TOPs in Touchdesigner.">
        <img src="https://i.ytimg.com/vi/otG2o5SEMO0/maxresdefault.jpg" alt="Companion Stairlight video">
      </div>   
      
      <div class="gallery-item" data-type="video" data-src="https://www.youtube.com/embed/8Lr2bAI5sjk"
           data-caption="A particle system interaction using a leap motion device. I instanced the joint locations to become attractors to a basic simulation.">
        <img src="https://i.ytimg.com/vi/8Lr2bAI5sjk/maxresdefault.jpg" alt="Companion Stairlight video">
      </div>
 
 
    
      <div class="gallery-item" data-type="video" data-src="https://www.youtube.com/embed/tef3gADUe9g"
           data-caption="Another lidar UV projection mapping experiment">
        <img src="https://i.ytimg.com/vi/tef3gADUe9g/maxresdefault.jpg" alt="Companion Stairlight video">
      </div>

         <div class="gallery-item" data-type="video" data-src="https://www.youtube.com/embed/j_7EeqCTrwI"
           data-caption="This was semi-successful experiment to see if I could 3D print a Chladni plate functional enough to achieve resonance.
           It worked better than I expected, however not as well as some of the extr-rigid steel plates normally used in these demonstrations. Still, Touchdesigner was used to map the dials of a midi keyboard to the driving frequency of the current through a solenoid, who's field acted on the tiny magnet glued to the center of the somewhat wobbly plate.
           Still, resonance was achieved at a number af harmonics. It proves that I could build an interactive exhibit where some sensor input could visibly change the salt patterns for a viewer.">
        <img src="https://i.ytimg.com/vi/j_7EeqCTrwI/maxresdefault.jpg" alt="Companion Stairlight video">
      </div>
   

         <div class="gallery-item" data-type="video" data-src="https://www.youtube.com/embed/ytpllJccHts"
           data-caption="Live ToF camera depth map is captured by a Raspberry Pi and sent over UDP to Touchdesigner, where the depth information is used to create a number of masks that are projected back onto the physical scene.">
        <img src="https://i.ytimg.com/vi/ytpllJccHts/maxresdefault.jpg" alt="Companion Stairlight video">
      </div>
    

      <div class="gallery-item" data-type="video" data-src="https://www.youtube.com/embed/NGeER6sxBN8"
           data-caption="Another view of the live action ToF depth mapping and projection setup.">
        <img src="https://i.ytimg.com/vi/NGeER6sxBN8/maxresdefault.jpg" alt="Companion Stairlight video">
      </div>

      <div class="gallery-item" data-type="video" data-src="https://www.youtube.com/embed/C5aKc9JWSPw"
           data-caption="I built this prototype luminaire out of 32x64 P2.5 HUB75 panels, with a Teensy 4.1 and a LED smartshield interfacing with the panels. Graphic output from Touchdesigner was streamed to the teensy via Ethernet, and displayed on the lumaire at a high framerate. ">
        <img src="https://i.ytimg.com/vi/C5aKc9JWSPw/maxresdefault.jpg" alt="Companion Stairlight video">
      </div>


    </div>

    

     

    <!-- Lightbox -->
    <div class="lightbox" id="lightbox">
      <span class="lightbox-close" onclick="closeLightbox()">&times;</span>
      <span class="lightbox-nav lightbox-prev" onclick="prevLightbox()">&#10094;</span>
      <div class="lightbox-content" id="lightboxContent"></div>
      <span class="lightbox-nav lightbox-next" onclick="nextLightbox()">&#10095;</span>
    </div>
  </div>

  <!-- Lightbox scripts -->
  <script>
    const galleryItems = Array.from(document.querySelectorAll('.gallery-item'));
    let currentIndex = 0;

    function openLightbox(type, src, caption) {
      const contentEl = document.getElementById('lightboxContent');
      contentEl.classList.remove('show');

      setTimeout(() => {
        const html = (type === 'img')
          ? `<div style="display:flex;flex-direction:column;align-items:center;">
               <img src="${src}" alt="">
               <div class="lightbox-caption">${caption||''}</div>
             </div>`
          : `<div class="video-wrapper">
               <iframe src="${src}" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
             </div>
             <div class="lightbox-caption">${caption||''}</div>`;

        contentEl.innerHTML = html;
        requestAnimationFrame(() => contentEl.classList.add('show'));
      }, 150);

      const lightbox = document.getElementById('lightbox');
      lightbox.classList.add('show');
      lightbox.style.display = 'flex';
    }

    function closeLightbox() {
      const lightbox = document.getElementById('lightbox');
      lightbox.classList.remove('show');
      setTimeout(() => {
        lightbox.style.display = 'none';
        document.getElementById('lightboxContent').innerHTML = '';
      }, 250);
    }

    function showLightbox(index) {
      const item = galleryItems[index];
      openLightbox(item.dataset.type, item.dataset.src, item.dataset.caption);
      currentIndex = index;
    }
    function nextLightbox() {
      currentIndex = (currentIndex + 1) % galleryItems.length;
      showLightbox(currentIndex);
    }
    function prevLightbox() {
      currentIndex = (currentIndex - 1 + galleryItems.length) % galleryItems.length;
      showLightbox(currentIndex);
    }

    galleryItems.forEach((item, index) => {
      item.addEventListener('click', () => showLightbox(index));
    });

    document.addEventListener('keydown', (e) => {
      const lightbox = document.getElementById('lightbox');
      if (!lightbox.classList.contains('show')) return;
      if (e.key === 'ArrowRight') nextLightbox();
      if (e.key === 'ArrowLeft')  prevLightbox();
      if (e.key === 'Escape')     closeLightbox();
    });

    // Swipe support
    let touchStartX = 0, touchEndX = 0;
    document.addEventListener('touchstart', e => { touchStartX = e.changedTouches[0].screenX; }, {passive:true});
    document.addEventListener('touchend',   e => { touchEndX   = e.changedTouches[0].screenX; handleSwipe(); }, {passive:true});
    function handleSwipe(){
      const lightbox = document.getElementById('lightbox');
      if (!lightbox || !lightbox.classList.contains('show')) return;
      if (touchEndX < touchStartX - 50) nextLightbox();
      if (touchEndX > touchStartX + 50) prevLightbox();
    }
  </script>

  <script src="assets/js/main.js"></script>
</body>
</html>
